@extends('template') @section('title') {{$file->title}} @stop @section('main') <div class="row"> <div class="col-2"><p> Size : {{ \App\Http\Controllers\Admin\IconController::humanFileSize($file->size) }}<br/>Mime Type : {{ $file->type }} <br/>Downloads : {{ $file->downloads }}<br/>Slug : {{ $file->slug }}<br/> </p></div> <div class="col-7"> <h2 class="title"><a href="{{asset('backend/edit/file/'.$file->id)}}" class="btn round">&swArr;</a> {{$file->title}} </h2> <p>{{$file->description}}</p> </div> <div class="col-3"> <h3 class="title"><a href="{{asset('backend/add/mirror/'.$file->id)}}" class="btn round">+</a> Mirrors</h3> <ul> @foreach($file->mirrors as $mirror) <li><a class="btn round bg-dan" onclick="return deleteMirror({{$mirror->id}});" href="#" title="{{asset('backend/delete/mirror/'.$mirror->id)}}">&times;</a> <a class="btn round" href="{{asset('backend/edit/mirror/'.$mirror->id)}}">&swArr;</a> <img src="{{asset($mirror->icon->path)}}" class="icon-sm"/> <a target="_new" href="{{$mirror->url}}" class="info" title="{{$mirror->url}}">{{$mirror->title}}</a> </li> @endforeach </ul> </div> </div> <script> function deleteMirror(id) { if (confirm('Are you sure to delete ?')) { var xhr = new XMLHttpRequest(); xhr.open('DELETE', '{{asset('backend/mirror')}}/' + id); xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded"); xhr.setRequestHeader("X-CSRF-TOKEN", "{{csrf_token()}}"); xhr.onreadystatechange = function () { if (xhr.readyState == XMLHttpRequest.DONE && xhr.status == 200) { location.reload(); } }; xhr.send('_mthod=DELETE') } return false; } </script> @stop